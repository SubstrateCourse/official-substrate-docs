ref: https://docs.substrate.io/learn/what-can-you-build/

# What you can build

在设计应用程序时，你需要做的第一个决定是你想要使用的方法。例如，你需要决定你的项目是否最适合以智能合约、单个托盘、自定义运行时或平行链的形式交付。关于构建什么的决定将影响你需要做出的几乎所有其他决定。为了帮助你做出关于构建什么的初步判断，本节突出了可用的选项、它们之间的差异以及你可能选择一种方法而不是另一种方法的原因。

## Smart contracts

许多开发者都熟悉智能合约，并自然倾向于认为他们的项目非常适合智能合约模型。然而，在确定智能合约方法是否适合你的项目时，需要考虑其优点和缺点。

### Smart contracts must adhere to blockchain rules

智能合约是部署在特定链上并在特定链地址上运行的指令。由于智能合约在它们无法控制的底层区块链上运行，因此它们必须遵守底层链施加的任何规则或限制。例如，底层区块链可能会限制对存储的访问或阻止某些类型的交易。

此外，接受智能合约的区块链通常将代码视为来自不受信任的来源——可能是恶意行为者或经验不足的开发者。为了防止不受信任的代码破坏区块链操作，底层区块链实施了本地安全措施，以限制恶意或错误的智能合约可以做什么。例如，底层链可能会收取费用或执行计量，以确保合约开发者或用户为合约消耗的计算和存储付费。合约执行的费用和规则由底层链自行决定。

### Smart contracts and state

你可以将智能合约视为在沙盒环境中执行。它们不直接修改底层区块链存储或其他合约的存储。通常，智能合约只修改自己的状态，不调用其他合约或运行时函数。通常，运行智能合约需要一些额外的开销，以确保底层区块链可以恢复交易，防止如果合约中的错误导致执行失败时更新状态。

### Scenarios for using smart contracts

尽管智能合约有其限制，但在某些情况下，你的项目可能会从使用智能合约中受益。例如，智能合约的入门门槛较低，通常可以在短时间内构建和部署。减少的开发时间可能会让你在确定产品与市场的匹配度和快速迭代方面具有优势。

同样，如果你熟悉使用像Solidity这样的语言构建智能合约，你可以减少学习曲线和项目的上市时间。因为智能合约遵循它们部署所在链的功能，你可以更窄化地专注于实现合约的应用逻辑，而不用担心区块链基础设施或经济学。

如果你打算构建一个平行链，你也可以使用智能合约以一种不影响底层网络的隔离方式原型化特性或功能，然后再投资于更全面的解决方案。如果你是一个运行时开发者，你可以将合约纳入到你的社区中，让他们为你的运行时扩展和开发特性，而无需授予他们访问底层运行时逻辑的权限。你还可以使用智能合约来测试未来的运行时变更。

总的来说，在决定是否使用智能合约构建项目时，你应该考虑以下特性：

- 他们对网络本质上更安全，因为底层链内置了安全措施，但你无法控制这些安全措施所施加的任何限制、限制或计算开销。
- 底层链提供了防止滥用的内置经济激励，但费用和计量系统由底层链定义。
- 他们在代码复杂性和部署时间方面的入门门槛较低。
- 他们可以为原型设计、测试和社区参与提供一个隔离的环境。
- 由于你利用了现有的网络，他们的部署和维护开销较低。

以下示例说明了智能合约的使用案例：

- 在现有的去中心化交易所（DEX）中添加衍生品。
- 实现自定义交易算法。
- 定义特定各方之间的合约逻辑。
- 在将应用程序转换为平行链之前进行原型设计和测试。
- 在现有链上引入第二层代币和自定义资产。 

### Support for smart contracts

Polkadot中继链不支持智能合约。然而，连接到Polkadot的平行链可以支持任意状态转换，所以任何平行链都可以是智能合约部署的潜在平台。例如，当前Polkadot生态系统中有几个平行链支持不同类型的智能合约部署。如果你计划为Polkadot生态系统开发一个智能合约，你必须首先决定你想要构建的智能合约的类型，并确定一个支持该类型智能合约的平行链。Substrate提供了支持两种类型的智能合约的工具：

- FRAME库中的contracts pallet使基于Substrate的链能够执行编译为WebAssembly的智能合约，无论使用什么语言编写智能合约。
- Frontier项目中的evm pallet使基于Substrate的链能够运行用Solidity编写的以太坊虚拟机（EVM）合约。

### Explore smart contracts

如果你的项目似乎非常适合作为智能合约，你可以在以下教程中看到一些简单的示例来帮助你开始：

- 开发智能合约
- 访问EVM账户


## Individual pallets

在某些情况下，你可能希望将应用逻辑实现为一个独立的托盘，并将功能作为库提供给社区，而不是构建自己的自定义运行时。例如，如果你不想部署和管理一个特定应用的区块链，你可能会构建一个或多个单独的托盘，以提供在所有基于Substrate的链中广泛有用的特性，改进现有功能，或者为Polkadot生态系统定义一个标准。使用FRAME开发单独的托盘通常很容易，对于Substrate链来说，集成也很容易。

### Writing correct code

值得注意的是，托盘本身并不提供智能合约所提供的任何类型的保护或安全措施。使用托盘，你可以控制运行时开发者可以实现的逻辑。你提供模块所需的方法、存储项、事件和错误。托盘本身并不引入费用或计量系统。你需要确保你的托盘逻辑不允许出现不良行为，或者使使用你的托盘的网络容易受到攻击。这种缺乏内置安全措施意味着你有很大的责任编写避免错误的代码。

### Pallets outside of runtime development

通常，编写托盘是进入运行时开发的入口，让你有机会在不构建完整的区块链应用程序的情况下，尝试现有的托盘和编码模式。单独的托盘也提供了一种你可以在不编写自己的应用程序的情况下为项目做出贡献的替代方式。

尽管编写和测试托盘通常是构建大规模应用程序的垫脚石，但有很多例子可以证明单独的托盘对整个生态系统的价值。

即使你正在构建一个单独的托盘，你也需要在运行时的上下文中对它进行测试。开发单独托盘的主要缺点是你无法控制它们被使用的运行时的任何其他部分。如果你将你的托盘视为孤立的代码，你可能会错过增强或改进它的机会。此外，对FRAME或Substrate的更改可能会为你的单独托盘创建维护问题，如果你不更新你的代码以保持与这些更改同步。

### Explore building pallets

如果你的项目似乎非常适合作为一个单独的托盘，你可以在以下部分看到一些简单的示例来帮助你开始：

- 自定义托盘
- 构建应用逻辑
- 收藏品工作坊

## Custom runtime

在大多数情况下，决定构建一个自定义运行时是向Polkadot生态系统构建和部署一个特定应用的并行区块链——平行链的关键步骤。通过使用Substrate和FRAME，你可以开发一个完全定制的运行时。有了自定义运行时，你可以完全控制你的应用的所有方面，包括经济激励、治理、共识和资源管理。

有一些托盘提供了许多这些特性的可插拔模块。然而，由你来决定使用哪些模块，如何根据你的需要修改它们，以及在哪里需要自定义模块。因为你控制你的网络中每个节点运行的所有底层逻辑，所以在编码技能和经验方面的入门门槛比编写智能合约或单独的托盘要高。

与单独的托盘一样，自定义运行时并不提供任何内置的安全措施来防止恶意行为者或错误代码造成伤害。由你来正确评估资源消耗，并在运行时逻辑中如何应用交易费用，以充分保护网络和你的用户社区。

与智能合约或单独的托盘不同，自定义运行时是一个完全功能的区块链。使自定义运行时对其他人可用和安全涉及到获取物理或云计算资源，建立一个发现你服务价值的社区，并管理网络基础设施。

对于智能合约，你的应用程序运行在现有的执行模型之上，限制了你的应用程序可以做什么。对于自定义运行时，你控制底层执行模型，并可以选择扩展它以支持其他开发者的智能合约执行。使用自定义运行时，你还可以提供比智能合约或单独托盘更复杂的功能和用户交互。

### Explore building a custom runtime

如果你想构建一个更完整的自定义运行时，而不是一个单独的托盘，你可以从一个简单的示例开始，比如收藏品工作坊。然而，如果你想构建一个作为独立链或平行链概念证明的自定义运行时，你需要对运行时组件和FRAME托盘有更广泛、更深入的理解。最相关的主题在“构建和测试”下，并在以下部分：

- 运行时存储结构
- 交易、权重和费用
- 应用开发
- FRAME托盘
- FRAME宏

## Parachain

自定义运行时可以作为私有网络或独立链的业务逻辑独立存在，但如果你希望你的项目成为一个可行的生产链，那么将你的应用程序的业务逻辑和状态转换函数部署为平行链或平行线程有几个优点。

平行链和平行线程作为独立的第一层区块链。每个平行链都有自己的逻辑，并与生态系统中的其他链并行运行。生态系统中的所有链都从网络的共享安全性、治理、可扩展性和互操作性中受益。

### Parachains provide maximum flexibility

作为平行链开发你的项目，你在链的设计和功能上有很大的自由度和灵活性。你决定构建什么完全取决于你。例如，你可以定义在链上或链下存储什么数据。你可以定义你自己的经济原语、交易要求、费用政策、治理模型、财政账户和访问控制规则。你的平行链可以有尽可能少（或尽可能多）的每笔交易开销，你决定了这一点，而且你的平行链可以随着时间的推移通过升级和优化而发展。唯一的要求是，你的平行链或平行线程必须与Polkadot API兼容。

### Planning parachain resource requirements

作为一个平行链，你的项目可以以比私有链或独立链更安全的方式为更广泛的社区提供功能。然而，如果你想构建一个生产就绪的平行链，你应该记住以下额外的要求：

- 你需要一个具有足够技能和经验的开发团队，无论是在Rust编程还是在UX设计背景方面。
  平行链开发可能需要比其他选项更多的资源。
- 你需要通过市场营销、外联或生态系统开发计划来建立你的社区。
- 你需要为你的基础设施和网络维护提供资源。
  平行链是一个完整的区块链。虽然中继链为你的项目提供了安全性和共识，但你必须维护你的链和网络基础设施。除了开发者操作（DevOps），你还需要保护一个平行链插槽，设计一个众贷或拍卖策略，并积累足够的资源来扩展插槽。
- 你需要足够的时间来测试和验证你的链操作，在沙盒或模拟网络中以及在一个完全功能的测试网络上。

### Parachain use cases

总的来说，如果你的项目需要复杂的操作，你应该将其构建为平行链，因为平行链提供了更快、更高效的交易执行。例如，对于以下用例，构建平行链可能是最好的选择：

- 去中心化金融（DeFi）应用
- 数字钱包
- 物联网（IOT）应用
- 游戏应用
- Web 3.0基础设施

### Explore building a parachain

如果你有一个自定义运行时，你想将其作为平行链部署，以利用中继链和Polkadot或Kusama生态系统的安全性、治理和互操作性，你可以从本地构建开始，并为初步测试设置你自己的测试网络。

要获取一些启动示例，请参阅以下部分：

- 将平行链连接到网络
- 在测试网络中模拟平行链
- 平行链

要了解更多你可以构建什么，请探索以下资源：

- 使用Polkadot构建
- 平行链开发
- 智能合约

